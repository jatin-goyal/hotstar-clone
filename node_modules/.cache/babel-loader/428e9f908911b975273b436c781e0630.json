{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jatingoyal/Desktop/coding/react/hotstar-clone/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/jatingoyal/Desktop/coding/react/hotstar-clone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/jatingoyal/Desktop/coding/react/hotstar-clone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/jatingoyal/Desktop/coding/react/hotstar-clone/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/jatingoyal/Desktop/coding/react/hotstar-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _templateObject;import{collection,getDocs}from\"firebase/firestore\";import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import styled from\"styled-components\";import{setMovies}from\"../features/movieSlice\";import{selectUserName}from\"../features/userSlice\";import{db}from\"../firebase\";import ImageSlider from\"./ImageSlider\";import NewDisney from\"./NewDisney\";import Originals from\"./Originals\";import Recommends from\"./Recommends\";import Trending from\"./Trending\";import Viewer from\"./Viewer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(props){var dispatch=useDispatch();var userName=useSelector(selectUserName);var recommends=[];var newDisneys=[];var originals=[];var trending=[];var moviesCollectionRef=collection(db,\"movies\");useEffect(function(){var getMoviesList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(moviesCollectionRef);case 2:data=_context.sent;data.docs.map(function(doc){switch(doc.data().type){case\"recommend\":recommends=[].concat(_toConsumableArray(recommends),[_objectSpread({id:doc.id},doc.data())]);break;case\"new\":newDisneys=[].concat(_toConsumableArray(newDisneys),[_objectSpread({id:doc.id},doc.data())]);break;case\"original\":originals=[].concat(_toConsumableArray(originals),[_objectSpread({id:doc.id},doc.data())]);break;case\"trending\":trending=[].concat(_toConsumableArray(trending),[_objectSpread({id:doc.id},doc.data())]);break;}});dispatch(setMovies({recommend:recommends,newDisney:newDisneys,original:originals,trending:trending}));case 5:case\"end\":return _context.stop();}}},_callee);}));return function getMoviesList(){return _ref.apply(this,arguments);};}();getMoviesList();},[userName]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(ImageSlider,{}),/*#__PURE__*/_jsx(Viewer,{}),/*#__PURE__*/_jsx(Recommends,{}),/*#__PURE__*/_jsx(Trending,{}),/*#__PURE__*/_jsx(NewDisney,{}),/*#__PURE__*/_jsx(Originals,{})]});}var Container=styled.main(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n\\n  text-align: left;\\n  min-height: calc(100vh - 250px);\\n  overflow-x: hidden;\\n  display: block;\\n  top: 72px;\\n  padding: 0px calc(3.5vw + 5px);\\n\\n  &::after {\\n    background: url(\\\"/images/home-background.png\\\") center center / cover\\n      no-repeat fixed;\\n    content: \\\"\\\";\\n    position: absolute;\\n    inset: 0px;\\n    z-index: -1;\\n  }\\n\"])));","map":{"version":3,"names":["collection","getDocs","React","useEffect","useDispatch","useSelector","styled","setMovies","selectUserName","db","ImageSlider","NewDisney","Originals","Recommends","Trending","Viewer","Home","props","dispatch","userName","recommends","newDisneys","originals","trending","moviesCollectionRef","getMoviesList","data","docs","map","doc","type","id","recommend","newDisney","original","Container","main"],"sources":["/Users/jatingoyal/Desktop/coding/react/hotstar-clone/src/compnents/Home.js"],"sourcesContent":["import { collection, getDocs } from \"firebase/firestore\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { setMovies } from \"../features/movieSlice\";\nimport { selectUserName } from \"../features/userSlice\";\nimport { db } from \"../firebase\";\nimport ImageSlider from \"./ImageSlider\";\nimport NewDisney from \"./NewDisney\";\nimport Originals from \"./Originals\";\nimport Recommends from \"./Recommends\";\nimport Trending from \"./Trending\";\nimport Viewer from \"./Viewer\";\n\nexport default function Home(props) {\n  const dispatch = useDispatch();\n  const userName = useSelector(selectUserName);\n  let recommends = [];\n  let newDisneys = [];\n  let originals = [];\n  let trending = [];\n\n  const moviesCollectionRef = collection(db, \"movies\");\n\n  useEffect(() => {\n    const getMoviesList = async () => {\n      const data = await getDocs(moviesCollectionRef);\n\n      data.docs.map((doc) => {\n        switch (doc.data().type) {\n          case \"recommend\":\n            recommends = [...recommends, { id: doc.id, ...doc.data() }];\n            break;\n\n          case \"new\":\n            newDisneys = [...newDisneys, { id: doc.id, ...doc.data() }];\n            break;\n\n          case \"original\":\n            originals = [...originals, { id: doc.id, ...doc.data() }];\n            break;\n\n          case \"trending\":\n            trending = [...trending, { id: doc.id, ...doc.data() }];\n            break;\n        }\n      });\n\n      dispatch(\n        setMovies({\n          recommend: recommends,\n          newDisney: newDisneys,\n          original: originals,\n          trending: trending,\n        })\n      );\n    };\n\n    getMoviesList();\n  }, [userName]);\n\n  return (\n    <Container>\n      <ImageSlider />\n      <Viewer />\n      <Recommends />\n      <Trending />\n      <NewDisney />\n      <Originals />\n    </Container>\n  );\n}\n\nconst Container = styled.main`\n  position: relative;\n\n  text-align: left;\n  min-height: calc(100vh - 250px);\n  overflow-x: hidden;\n  display: block;\n  top: 72px;\n  padding: 0px calc(3.5vw + 5px);\n\n  &::after {\n    background: url(\"/images/home-background.png\") center center / cover\n      no-repeat fixed;\n    content: \"\";\n    position: absolute;\n    inset: 0px;\n    z-index: -1;\n  }\n`;\n"],"mappings":"6uBAAA,OAASA,UAAT,CAAqBC,OAArB,KAAoC,oBAApC,CACA,MAAOC,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,OAASC,SAAT,KAA0B,wBAA1B,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,EAAT,KAAmB,aAAnB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,MAAOC,WAAP,KAAuB,cAAvB,CACA,MAAOC,SAAP,KAAqB,YAArB,CACA,MAAOC,OAAP,KAAmB,UAAnB,C,wFAEA,cAAe,SAASC,KAAT,CAAcC,KAAd,CAAqB,CAClC,GAAMC,SAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,SAAQ,CAAGd,WAAW,CAACG,cAAD,CAA5B,CACA,GAAIY,WAAU,CAAG,EAAjB,CACA,GAAIC,WAAU,CAAG,EAAjB,CACA,GAAIC,UAAS,CAAG,EAAhB,CACA,GAAIC,SAAQ,CAAG,EAAf,CAEA,GAAMC,oBAAmB,CAAGxB,UAAU,CAACS,EAAD,CAAK,QAAL,CAAtC,CAEAN,SAAS,CAAC,UAAM,CACd,GAAMsB,cAAa,4FAAG,oKACDxB,QAAO,CAACuB,mBAAD,CADN,QACdE,IADc,eAGpBA,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,SAACC,GAAD,CAAS,CACrB,OAAQA,GAAG,CAACH,IAAJ,GAAWI,IAAnB,EACE,IAAK,WAAL,CACEV,UAAU,8BAAOA,UAAP,kBAAqBW,EAAE,CAAEF,GAAG,CAACE,EAA7B,EAAoCF,GAAG,CAACH,IAAJ,EAApC,GAAV,CACA,MAEF,IAAK,KAAL,CACEL,UAAU,8BAAOA,UAAP,kBAAqBU,EAAE,CAAEF,GAAG,CAACE,EAA7B,EAAoCF,GAAG,CAACH,IAAJ,EAApC,GAAV,CACA,MAEF,IAAK,UAAL,CACEJ,SAAS,8BAAOA,SAAP,kBAAoBS,EAAE,CAAEF,GAAG,CAACE,EAA5B,EAAmCF,GAAG,CAACH,IAAJ,EAAnC,GAAT,CACA,MAEF,IAAK,UAAL,CACEH,QAAQ,8BAAOA,QAAP,kBAAmBQ,EAAE,CAAEF,GAAG,CAACE,EAA3B,EAAkCF,GAAG,CAACH,IAAJ,EAAlC,GAAR,CACA,MAfJ,CAiBD,CAlBD,EAoBAR,QAAQ,CACNX,SAAS,CAAC,CACRyB,SAAS,CAAEZ,UADH,CAERa,SAAS,CAAEZ,UAFH,CAGRa,QAAQ,CAAEZ,SAHF,CAIRC,QAAQ,CAAEA,QAJF,CAAD,CADH,CAAR,CAvBoB,sDAAH,kBAAbE,cAAa,0CAAnB,CAiCAA,aAAa,GACd,CAnCQ,CAmCN,CAACN,QAAD,CAnCM,CAAT,CAqCA,mBACE,MAAC,SAAD,yBACE,KAAC,WAAD,IADF,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,UAAD,IAHF,cAIE,KAAC,QAAD,IAJF,cAKE,KAAC,SAAD,IALF,cAME,KAAC,SAAD,IANF,GADF,CAUD,CAED,GAAMgB,UAAS,CAAG7B,MAAM,CAAC8B,IAAV,ybAAf"},"metadata":{},"sourceType":"module"}